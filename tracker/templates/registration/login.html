{% extends 'base.html' %}

{% block title %}Login - Finance Tracker{% endblock %}

{% block navbar %}{% endblock %}
{% block footer %}{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-background">
        <div class="blur-circle blur-circle-1"></div>
        <div class="blur-circle blur-circle-2"></div>
        <div class="blur-circle blur-circle-3"></div>
    </div>
    
    <div class="auth-card">
        <div class="auth-header">
            <div class="auth-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
            </div>
            <h1>Welcome Back</h1>
            <p>Login to manage your finances</p>
        </div>

        <form method="post" class="auth-form">
            {% csrf_token %}
            
            <div class="form-spacing">
                {% include 'atomic/molecules/form_field.html' with field=form.username label="Username" %}
                {% include 'atomic/molecules/form_field.html' with field=form.password label="Password" %}
            </div>

            <div class="button-wrapper" style="margin-top: 1.5rem;">
                {% include 'atomic/atoms/button.html' with text='Login' type='primary' block=True %}
            </div>
        </form>

        <div class="auth-footer">
            <p>Don't have an account? <a href="{% url 'register' %}" class="link">Register here</a></p>
        </div>
    </div>
</div>

<style>
    /* This prevents the card from stretching across the whole screen */
    .auth-card {
        width: 95%;
        max-width: 420px;
        margin: 0 auto;
        z-index: 10;
        position: relative;
    }

    .form-spacing > * + * {
        margin-top: 1.2rem;
    }

    /* Fix to ensure inputs don't look invisible or massive */
    .visibility-fix, 
    .auth-form input {
        background-color: #ffffff !important;
        border: 2px solid #ffb6c1 !important;
        color: #333333 !important;
        display: block !important;
        width: 100% !important;
        border-radius: 12px !important;
        padding: 0.8rem 1rem !important;
        transition: all 0.3s ease;
    }

    .auth-form input:focus {
        border-color: #ff69b4 !important;
        box-shadow: 0 0 0 4px rgba(255, 182, 193, 0.2);
        outline: none;
    }

    .auth-header h1 {
        color: #ff69b4;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }
</style>
{% endblock %}