{% extends 'base.html' %}

{% block title %}Register - Finance Tracker{% endblock %}

{% block navbar %}{% endblock %}
{% block footer %}{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-background">
        <div class="blur-circle blur-circle-1"></div>
        <div class="blur-circle blur-circle-2"></div>
        <div class="blur-circle blur-circle-3"></div>
    </div>
    
    <div class="auth-card">
        <div class="auth-header">
            <div class="auth-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <line x1="19" y1="8" x2="19" y2="14"></line>
                    <line x1="22" y1="11" x2="16" y2="11"></line>
                </svg>
            </div>
            <h1>Create Account</h1>
            <p>Start tracking your finances today</p>
        </div>

        <form method="post" class="auth-form">
            {% csrf_token %}
            
            <div class="form-spacing">
                {% for field in form %}
                    {% include 'atomic/molecules/form_field.html' with field=field label=field.label %}
                {% endfor %}
            </div>

            <div class="button-wrapper" style="margin-top: 1.5rem;">
                {% include 'atomic/atoms/button.html' with text='Register' type='primary' block=True %}
            </div>
        </form>

        <div class="auth-footer">
            <p>Already have an account? <a href="{% url 'login' %}" class="link">Login here</a></p>
        </div>
    </div>
</div>

<style>
    /* Critical fix: Stops the card from becoming massive on large screens */
    .auth-card {
        width: 95%;
        max-width: 450px; /* Slightly wider than login for extra form info */
        margin: 0 auto;
        z-index: 10;
        position: relative;
    }

    .form-spacing > * + * {
        margin-top: 1rem;
    }

    /* Force pink aesthetic on Django's auto-generated fields */
    .auth-form input,
    .auth-form select {
        background-color: #ffffff !important;
        border: 2px solid #ffb6c1 !important;
        color: #333333 !important;
        display: block !important;
        width: 100% !important;
        border-radius: 12px !important;
        padding: 0.8rem 1rem !important;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .auth-form input:focus {
        border-color: #ff69b4 !important;
        box-shadow: 0 0 0 4px rgba(255, 182, 193, 0.2);
        outline: none;
    }

    /* Styling for the help text often found in registration (e.g., password requirements) */
    .form-help, .helptext {
        display: block;
        font-size: 0.75rem;
        color: #888;
        margin-top: 0.25rem;
        padding: 0 0.5rem;
    }

    /* Error handling style */
    .form-error {
        color: #ff4d4d;
        font-size: 0.8rem;
        margin-top: 0.25rem;
        display: block;
    }
</style>
{% endblock %}